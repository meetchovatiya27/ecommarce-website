{% extends "base.html" %}
{% load static %}
{% block title %}Payment Failed{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body text-center p-5">
          <!-- Failed Icon -->
          <div class="mb-4">
            <div class="error-icon mx-auto">
              <span class="x-mark">
                <span class="line left"></span>
                <span class="line right"></span>
              </span>
            </div>
          </div>

          <h2 class="text-danger fw-bold mb-3">Payment Failed</h2>
          <p class="text-muted mb-4">
            Unfortunately, your payment could not be processed. Please try again or contact support if the problem persists.
          </p>

          <div class="alert alert-warning mb-4">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            <strong>Note:</strong> Your order is still pending. You can retry the payment or cancel the order.
          </div>

          <div class="d-grid gap-2 mt-4">
            <a href="{% url 'shop:checkout' %}" class="btn btn-primary btn-lg">
              <i class="bi bi-arrow-repeat me-2"></i>Retry Payment
            </a>
            <a href="{% url 'shop:cart' %}" class="btn btn-outline-secondary">
              <i class="bi bi-cart me-2"></i>Back to Cart
            </a>
            <a href="{% url 'shop:home' %}" class="btn btn-outline-secondary">
              <i class="bi bi-house me-2"></i>Go to Home
            </a>
          </div>

          <div class="mt-4">
            <small class="text-muted">
              Need help? <a href="{% url 'shop:contact' %}">Contact Support</a>
            </small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.error-icon {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    border: 4px solid #f44336;
    position: relative;
    margin: 0 auto;
    animation: scaleAnimation 0.5s ease-in-out;
}

.error-icon .x-mark {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.error-icon .line {
    position: absolute;
    height: 5px;
    width: 47px;
    background-color: #f44336;
    border-radius: 2px;
}

.error-icon .line.left {
    transform: rotate(45deg);
    animation: leftLineAnimation 0.75s ease-in-out;
}

.error-icon .line.right {
    transform: rotate(-45deg);
    animation: rightLineAnimation 0.75s ease-in-out;
}

@keyframes scaleAnimation {
    0% {
        transform: scale(0);
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
    }
}

@keyframes leftLineAnimation {
    0% {
        width: 0;
    }
    100% {
        width: 47px;
    }
}

@keyframes rightLineAnimation {
    0% {
        width: 0;
    }
    100% {
        width: 47px;
    }
}
</style>
{% endblock %}